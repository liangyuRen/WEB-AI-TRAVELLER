# AI Travel Planner - æ™ºèƒ½æ—…è¡Œè§„åˆ’å¸ˆ

![GitHub License](https://img.shields.io/github/license/yourusername/ai-travel-planner)
![GitHub Stars](https://img.shields.io/github/stars/yourusername/ai-travel-planner)

ä¸€ä¸ªWebç‰ˆçš„AIè¾…åŠ©æ—…è¡Œè§„åˆ’åº”ç”¨ï¼Œé€šè¿‡äººå·¥æ™ºèƒ½å¸®åŠ©ç”¨æˆ·ç®€åŒ–æ—…è¡Œè§„åˆ’è¿‡ç¨‹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¯­éŸ³æˆ–æ–‡å­—è¾“å…¥æ—…è¡Œéœ€æ±‚ï¼ŒAIä¼šè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–çš„è¡Œç¨‹è®¡åˆ’ã€è´¹ç”¨é¢„ç®—å’Œæ—…è¡Œå»ºè®®ã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½è¡Œç¨‹è§„åˆ’
- é€šè¿‡è¯­éŸ³ï¼ˆæˆ–æ–‡å­—ï¼‰è¾“å…¥æ—…è¡Œç›®çš„åœ°ã€æ—¥æœŸã€é¢„ç®—ã€åŒè¡Œäººæ•°å’Œæ—…è¡Œåå¥½
- AIè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–æ—…è¡Œè·¯çº¿
- åŒ…æ‹¬äº¤é€šã€ä½å®¿ã€æ™¯ç‚¹ã€é¤å…ç­‰è¯¦ç»†ä¿¡æ¯
- æ”¯æŒè¡Œç¨‹ä¿®æ”¹å’Œè‡ªå®šä¹‰

### 2. è´¹ç”¨é¢„ç®—ä¸ç®¡ç†
- AIè¿›è¡Œé¢„ç®—åˆ†æå’Œä¼˜åŒ–å»ºè®®
- è®°å½•æ—…è¡Œå¼€é”€ï¼ˆæ”¯æŒè¯­éŸ³è¾“å…¥ï¼‰
- å®æ—¶é¢„ç®—è·Ÿè¸ªå’Œåˆ†ç±»ç»Ÿè®¡
- è´¹ç”¨è¶…é¢é¢„è­¦

### 3. ç”¨æˆ·ç®¡ç†ä¸æ•°æ®å­˜å‚¨
- æ³¨å†Œç™»å½•ç³»ç»Ÿ
- ä¿å­˜å’Œç®¡ç†å¤šä»½æ—…è¡Œè®¡åˆ’
- äº‘ç«¯è¡Œç¨‹åŒæ­¥
- å¤šè®¾å¤‡æ— ç¼è®¿é—®

### 4. è¯­éŸ³åŠŸèƒ½
- è¯­éŸ³è¯†åˆ«è¾“å…¥ï¼ˆWeb Speech APIï¼‰
- è¯­éŸ³å‘½ä»¤æ§åˆ¶
- è´¹ç”¨è¯­éŸ³è®°å½•

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTPå®¢æˆ·ç«¯**: Axios
- **è·¯ç”±**: React Router v6

### åç«¯
- **è¿è¡Œæ—¶**: Node.js
- **æ¡†æ¶**: Express.js
- **æ•°æ®åº“**: Supabase (PostgreSQL)
- **è®¤è¯**: Firebase æˆ– Supabase Auth
- **LLMé›†æˆ**: æ”¯æŒå¤šç§æä¾›å•†
  - é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨èï¼‰
  - OpenAI GPT
  - Hugging Face
  - æœ¬åœ°LLM

### éƒ¨ç½²
- **å®¹å™¨åŒ–**: Docker
- **ç¼–æ’**: Docker Compose
- **CI/CD**: GitHub Actions
- **é•œåƒä»“åº“**: Docker Hub / é˜¿é‡Œäº‘é•œåƒä»“åº“

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
ai-travel-planner/
â”œâ”€â”€ frontend/                 # Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ backend/                  # Expressåç«¯API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ docker-compose.yml        # Docker Composeé…ç½®
â”œâ”€â”€ Dockerfile.frontend       # å‰ç«¯Dockeré•œåƒ
â”œâ”€â”€ Dockerfile.backend        # åç«¯Dockeré•œåƒ
â”œâ”€â”€ nginx.conf               # Nginxåå‘ä»£ç†é…ç½®
â””â”€â”€ README.md

```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 18.x æˆ–æ›´é«˜ç‰ˆæœ¬
- Docker å’Œ Docker Compose
- Git

### æœ¬åœ°å¼€å‘

#### 1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/yourusername/ai-travel-planner.git
cd ai-travel-planner
```

#### 2. åç«¯è®¾ç½®
```bash
cd backend
npm install
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
npm run dev
```

#### 3. å‰ç«¯è®¾ç½®ï¼ˆæ–°ç»ˆç«¯ï¼‰
```bash
cd frontend
npm install
npm start
```

è®¿é—® http://localhost:3000

### ä½¿ç”¨Docker Composeå¿«é€Ÿå¯åŠ¨

```bash
docker-compose up --build
```

åº”ç”¨å°†åœ¨ä»¥ä¸‹åœ°å€å¯ç”¨ï¼š
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:5000

## âš™ï¸ ç¯å¢ƒé…ç½®

### åç«¯ç¯å¢ƒå˜é‡ (backend/.env)

```env
# æœåŠ¡å™¨é…ç½®
PORT=5000
NODE_ENV=development
CLIENT_URL=http://localhost:3000

# Supabaseæ•°æ®åº“ (å¯é€‰)
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=eyJhbGc...

# LLM API (åœ¨å‰ç«¯Settingsé¡µé¢é…ç½®ï¼Œæˆ–è¿™é‡Œè®¾ç½®)
# LLM_API_KEY=ä½ çš„APIå¯†é’¥
# LLM_PROVIDER=openai|alibaba|huggingface
```

### å‰ç«¯ç¯å¢ƒå˜é‡ (frontend/.env)

```env
REACT_APP_API_URL=http://localhost:5000/api
```

## ğŸ” APIå¯†é’¥é…ç½®

### âš ï¸ é‡è¦å®‰å…¨æç¤º

**åˆ‡å‹¿åœ¨ä»£ç ä¸­ç¡¬ç¼–ç APIå¯†é’¥ï¼** è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„å®‰å…¨é£é™©ã€‚

æœ¬é¡¹ç›®æä¾›äº†ä¸¤ç§å®‰å…¨çš„å¯†é’¥ç®¡ç†æ–¹å¼ï¼š

#### æ–¹å¼1: é€šè¿‡Settingsç•Œé¢é…ç½®ï¼ˆæ¨èï¼‰
1. ç™»å½•åº”ç”¨åè¿›å…¥ `Settings` é¡µé¢
2. é€‰æ‹©ä½ è¦ä½¿ç”¨çš„LLMæä¾›å•†
3. è¾“å…¥APIå¯†é’¥
4. å¯†é’¥ä¼šä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨å­˜å‚¨ä¸­
5. å¯†é’¥ä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨

#### æ–¹å¼2: ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
1. åˆ›å»º `.env` æ–‡ä»¶
2. å¡«å…¥å¯†é’¥ä¿¡æ¯
3. åç«¯å¯åŠ¨æ—¶è¯»å–ç¯å¢ƒå˜é‡
4. **ç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨æ›´å®‰å…¨çš„å¯†é’¥ç®¡ç†æ–¹æ¡ˆ**

### è·å–APIå¯†é’¥

#### é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨è - åŠ©æ•™æä¾›ï¼‰
- è”ç³»è¯¾ç¨‹åŠ©æ•™è·å–é˜¿é‡Œäº‘ç™¾ç‚¼APIå¯†é’¥
- æä¾›3ä¸ªæœˆæœ‰æ•ˆæœŸçš„å…è´¹é¢åº¦

#### OpenAI
- è®¿é—® https://platform.openai.com/api-keys
- åˆ›å»ºæ–°çš„APIå¯†é’¥
- æ³¨æ„æˆæœ¬å’Œé€Ÿç‡é™åˆ¶

#### Supabase
- è®¿é—® https://supabase.com
- åˆ›å»ºæ–°é¡¹ç›®
- ä»é¡¹ç›®è®¾ç½®ä¸­è·å–API URLå’Œå¯†é’¥

## ğŸ¯ æ ¸å¿ƒAPIç«¯ç‚¹

### æ—…è¡Œè§„åˆ’
- `POST /api/travel/plan` - ç”Ÿæˆæ—…è¡Œè®¡åˆ’
- `GET /api/travel/plans/:userId` - è·å–ä¿å­˜çš„è®¡åˆ’
- `PUT /api/travel/plan/:planId` - æ›´æ–°è®¡åˆ’

### é¢„ç®—ç®¡ç†
- `POST /api/budget/expense` - è®°å½•å¼€æ”¯
- `GET /api/budget/summary/:planId` - è·å–é¢„ç®—æ‘˜è¦
- `DELETE /api/budget/expense/:expenseId` - åˆ é™¤å¼€æ”¯

### LLMæœåŠ¡
- `POST /api/llm/chat` - é€šç”¨èŠå¤©æ¥å£
- `POST /api/llm/generate-itinerary` - ç”Ÿæˆè¡Œç¨‹
- `POST /api/llm/analyze-budget` - é¢„ç®—åˆ†æ

## ğŸ“± ç‰¹è‰²åŠŸèƒ½

### è¯­éŸ³è¯†åˆ«
- ä½¿ç”¨Web Speech APIï¼ˆæµè§ˆå™¨åŸç”Ÿï¼‰
- æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡
- å®æ—¶è¯­éŸ³è½¬æ–‡å­—

### æ™ºèƒ½é¢„ç®—åˆ†æ
- AIé©±åŠ¨çš„æ”¯å‡ºä¼˜åŒ–å»ºè®®
- æŒ‰åˆ†ç±»ç»Ÿè®¡æ”¯å‡º
- æˆæœ¬é¢„è­¦

### å¤šè®¾å¤‡åŒæ­¥
- äº‘ç«¯æ•°æ®å­˜å‚¨
- å®æ—¶åŒæ­¥
- ç¦»çº¿æ¨¡å¼æ”¯æŒï¼ˆè®¡åˆ’ä¸­ï¼‰

## ğŸ³ Dockeréƒ¨ç½²

### æ„å»ºé•œåƒ

```bash
# æ„å»ºåç«¯é•œåƒ
docker build -f Dockerfile.backend -t ai-travel-backend:latest .

# æ„å»ºå‰ç«¯é•œåƒ
docker build -f Dockerfile.frontend -t ai-travel-frontend:latest .
```

### è¿è¡Œå®¹å™¨

```bash
# ä½¿ç”¨Docker Compose
docker-compose up -d

# æˆ–æ‰‹åŠ¨è¿è¡Œ
docker run -p 5000:5000 --env-file .env ai-travel-backend:latest
docker run -p 3000:80 ai-travel-frontend:latest
```

### æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“

```bash
# ç™»å½•é˜¿é‡Œäº‘
docker login -u <username> registry.aliyuncs.com

# æ ‡è®°é•œåƒ
docker tag ai-travel-backend:latest registry.aliyuncs.com/<namespace>/ai-travel-backend:latest
docker tag ai-travel-frontend:latest registry.aliyuncs.com/<namespace>/ai-travel-frontend:latest

# æ¨é€é•œåƒ
docker push registry.aliyuncs.com/<namespace>/ai-travel-backend:latest
docker push registry.aliyuncs.com/<namespace>/ai-travel-frontend:latest
```

## ğŸ¤– LLMé›†æˆ

### æ”¯æŒçš„æä¾›å•†

#### 1. é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨èï¼‰
```javascript
// åœ¨Settingsé¡µé¢é€‰æ‹©Alibaba Bailian
// è¾“å…¥APIå¯†é’¥
// åº”ç”¨ä¼šè‡ªåŠ¨ä½¿ç”¨é€šä¹‰åƒé—®æ¨¡å‹
```

#### 2. OpenAI
```javascript
// é€‰æ‹©OpenAI
// è¾“å…¥sk-xxxæ ¼å¼çš„å¯†é’¥
// æ”¯æŒGPT-3.5 Turboå’ŒGPT-4
```

#### 3. æœ¬åœ°LLM
```javascript
// å¯é›†æˆOllamaæˆ–å…¶ä»–æœ¬åœ°LLMæœåŠ¡
// ä¿®æ”¹åç«¯é…ç½®æŒ‡å‘æœ¬åœ°æœåŠ¡
```

## ğŸ“Š æ•°æ®åº“æ¶æ„

### Supabaseè¡¨ç»“æ„

```sql
-- ç”¨æˆ·è¡¨ï¼ˆç”±Supabase Authç®¡ç†ï¼‰
-- æ—…è¡Œè®¡åˆ’è¡¨
CREATE TABLE travel_plans (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES auth.users,
  destination VARCHAR(255),
  start_date DATE,
  end_date DATE,
  budget DECIMAL,
  travelers INT,
  preferences TEXT,
  itinerary JSONB,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

-- å¼€æ”¯è®°å½•è¡¨
CREATE TABLE expenses (
  id UUID PRIMARY KEY,
  plan_id UUID REFERENCES travel_plans,
  category VARCHAR(50),
  amount DECIMAL,
  description TEXT,
  date DATE,
  created_at TIMESTAMP
);
```

## ğŸ§ª æµ‹è¯•

```bash
# å‰ç«¯æµ‹è¯•
cd frontend
npm test

# åç«¯æµ‹è¯•
cd backend
npm test
```

## ğŸ“š GitHub Actions CI/CD

é¡¹ç›®å·²é…ç½®GitHub Actionsè‡ªåŠ¨åŒ–æµç¨‹ï¼š

1. **ä»£ç æ£€æŸ¥** - è¿è¡Œlintæ£€æŸ¥
2. **æ„å»ºé•œåƒ** - æ„å»ºDockeré•œåƒ
3. **æ¨é€é•œåƒ** - æ¨é€åˆ°Docker Hubæˆ–é˜¿é‡Œäº‘

### é…ç½®Secrets

åœ¨GitHubä»“åº“Settingsä¸­æ·»åŠ ä»¥ä¸‹Secretsï¼š

```
DOCKER_USERNAME: your_docker_username
DOCKER_PASSWORD: your_docker_password
ALIYUN_REGISTRY: registry.aliyuncs.com
ALIYUN_USERNAME: your_aliyun_username
ALIYUN_PASSWORD: your_aliyun_password
```

## ğŸ“ æäº¤è¯´æ˜

æäº¤åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

1. **GitHubä»“åº“**: è¿™ä¸ªREADMEä¸­çš„ä»“åº“é“¾æ¥
2. **Dockeré•œåƒ**: å·²æ¨é€åˆ°Docker Hubæˆ–é˜¿é‡Œäº‘
3. **è¿è¡Œè¯´æ˜**: åœ¨READMEä¸­è¯¦ç»†è¯´æ˜å¦‚ä½•è¿è¡Œé¡¹ç›®
4. **APIå¯†é’¥**: å¦‚ä½¿ç”¨éé˜¿é‡Œäº‘keyï¼Œåœ¨READMEä¸­æä¾›å¯†é’¥å’Œæœ‰æ•ˆæœŸ

## ğŸ›£ï¸ å¼€å‘è·¯çº¿å›¾

- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆSupabaseé›†æˆï¼‰
- [ ] äº‘ç«¯æ•°æ®æŒä¹…åŒ–
- [ ] é«˜å¾·åœ°å›¾é›†æˆ
- [ ] å®æ—¶å¤©æ°”APIé›†æˆ
- [ ] æœºç¥¨å’Œé…’åº—é¢„è®¢APIé›†æˆ
- [ ] ç¦»çº¿æ¨¡å¼
- [ ] PWAæ”¯æŒ
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç¤¾äº¤åˆ†äº«åŠŸèƒ½
- [ ] AIå›¾åƒç”Ÿæˆï¼ˆæ™¯ç‚¹æ¨èï¼‰

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§LICENSEæ–‡ä»¶

## ğŸ‘¨â€ğŸ’¼ ä½œè€…

è¯¾ç¨‹ä½œä¸š - å—äº¬å¤§å­¦å¤§æ¨¡å‹è¾…åŠ©è½¯ä»¶å·¥ç¨‹

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥ç¯å¢ƒé…ç½®
2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
3. æäº¤GitHub Issue

---

**æœ€åæ›´æ–°**: 2024å¹´11æœˆ
**é¡¹ç›®çŠ¶æ€**: å¼€å‘ä¸­ ğŸš€
