# AI Travel Planner - æ™ºèƒ½æ—…è¡Œè§„åˆ’å¸ˆ

![GitHub License](https://img.shields.io/github/license/yourusername/ai-travel-planner)
![GitHub Stars](https://img.shields.io/github/stars/yourusername/ai-travel-planner)

ä¸€ä¸ªWebç‰ˆçš„AIè¾…åŠ©æ—…è¡Œè§„åˆ’åº”ç”¨ï¼Œé€šè¿‡äººå·¥æ™ºèƒ½å¸®åŠ©ç”¨æˆ·ç®€åŒ–æ—…è¡Œè§„åˆ’è¿‡ç¨‹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¯­éŸ³æˆ–æ–‡å­—è¾“å…¥æ—…è¡Œéœ€æ±‚ï¼ŒAIä¼šè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–çš„è¡Œç¨‹è®¡åˆ’ã€è´¹ç”¨é¢„ç®—å’Œæ—…è¡Œå»ºè®®ã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½è¡Œç¨‹è§„åˆ’
- é€šè¿‡è¯­éŸ³ï¼ˆæˆ–æ–‡å­—ï¼‰è¾“å…¥æ—…è¡Œç›®çš„åœ°ã€æ—¥æœŸã€é¢„ç®—ã€åŒè¡Œäººæ•°å’Œæ—…è¡Œåå¥½
- AIè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–æ—…è¡Œè·¯çº¿
- åŒ…æ‹¬äº¤é€šã€ä½å®¿ã€æ™¯ç‚¹ã€é¤å…ç­‰è¯¦ç»†ä¿¡æ¯
- æ”¯æŒè¡Œç¨‹ä¿®æ”¹å’Œè‡ªå®šä¹‰

### 2. è´¹ç”¨é¢„ç®—ä¸ç®¡ç†
- AIè¿›è¡Œé¢„ç®—åˆ†æå’Œä¼˜åŒ–å»ºè®®
- è®°å½•æ—…è¡Œå¼€é”€ï¼ˆæ”¯æŒè¯­éŸ³è¾“å…¥ï¼‰
- å®æ—¶é¢„ç®—è·Ÿè¸ªå’Œåˆ†ç±»ç»Ÿè®¡
- è´¹ç”¨è¶…é¢é¢„è­¦

### 3. ç”¨æˆ·ç®¡ç†ä¸æ•°æ®å­˜å‚¨
- æ³¨å†Œç™»å½•ç³»ç»Ÿ
- ä¿å­˜å’Œç®¡ç†å¤šä»½æ—…è¡Œè®¡åˆ’
- äº‘ç«¯è¡Œç¨‹åŒæ­¥
- å¤šè®¾å¤‡æ— ç¼è®¿é—®

### 4. è¯­éŸ³åŠŸèƒ½
- è¯­éŸ³è¯†åˆ«è¾“å…¥ï¼ˆWeb Speech APIï¼‰
- è¯­éŸ³å‘½ä»¤æ§åˆ¶
- è´¹ç”¨è¯­éŸ³è®°å½•

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTPå®¢æˆ·ç«¯**: Axios
- **è·¯ç”±**: React Router v6

### åç«¯
- **è¿è¡Œæ—¶**: Node.js
- **æ¡†æ¶**: Express.js
- **æ•°æ®åº“**: Supabase (PostgreSQL)
- **è®¤è¯**: Firebase æˆ– Supabase Auth
- **LLMé›†æˆ**: æ”¯æŒå¤šç§æä¾›å•†
  - é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨èï¼‰
  - OpenAI GPT
  - Hugging Face
  - æœ¬åœ°LLM

### éƒ¨ç½²
- **å®¹å™¨åŒ–**: Docker
- **ç¼–æ’**: Docker Compose
- **CI/CD**: GitHub Actions
- **é•œåƒä»“åº“**: Docker Hub / é˜¿é‡Œäº‘é•œåƒä»“åº“

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
ai-travel-planner/
â”œâ”€â”€ frontend/                 # Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ backend/                  # Expressåç«¯API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ docker-compose.yml        # Docker Composeé…ç½®
â”œâ”€â”€ Dockerfile.frontend       # å‰ç«¯Dockeré•œåƒ
â”œâ”€â”€ Dockerfile.backend        # åç«¯Dockeré•œåƒ
â”œâ”€â”€ nginx.conf               # Nginxåå‘ä»£ç†é…ç½®
â””â”€â”€ README.md

```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Docker å’Œ Docker Composeï¼ˆæ¨èï¼‰
- æˆ– Node.js 18.x åŠä»¥ä¸Šç‰ˆæœ¬
- Git

### æ–¹æ³•1ï¼šä½¿ç”¨é¢„ç¼–è¯‘Dockeré•œåƒï¼ˆæœ€ç®€å•ï¼‰

#### 1.1 ä» GitHub Release ä¸‹è½½é•œåƒæ–‡ä»¶

è®¿é—® GitHub Release é¡µé¢ä¸‹è½½å¯¹åº”æ¶æ„çš„é•œåƒæ–‡ä»¶ï¼š

**x86_64 æ¶æ„ï¼ˆå¸¸è§ï¼‰**:
```bash
# ä¸‹è½½é•œåƒæ–‡ä»¶
wget https://github.com/liangyuRen/WEB-AI-TRAVELLER/releases/download/v1.0.0/ai-travel-backend_v1.0.0_amd64.tar.gz
wget https://github.com/liangyuRen/WEB-AI-TRAVELLER/releases/download/v1.0.0/ai-travel-frontend_v1.0.0_amd64.tar.gz

# åŠ è½½é•œåƒ
docker load -i ai-travel-backend_v1.0.0_amd64.tar.gz
docker load -i ai-travel-frontend_v1.0.0_amd64.tar.gz

# è¿è¡Œå®¹å™¨
docker run -d --name ai-travel-backend -p 5000:5000 ai-travel-backend:v1.0.0-amd64
docker run -d --name ai-travel-frontend -p 3000:80 ai-travel-frontend:v1.0.0-amd64

# è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯API: http://localhost:5000
```

**ARM64 æ¶æ„ï¼ˆè‹¹æœMç³»åˆ—ã€æ ‘è“æ´¾ç­‰ï¼‰**:
```bash
# ä¸‹è½½é•œåƒæ–‡ä»¶
wget https://github.com/liangyuRen/WEB-AI-TRAVELLER/releases/download/v1.0.0/ai-travel-backend_v1.0.0_arm64.tar.gz
wget https://github.com/liangyuRen/WEB-AI-TRAVELLER/releases/download/v1.0.0/ai-travel-frontend_v1.0.0_arm64.tar.gz

# åŠ è½½é•œåƒ
docker load -i ai-travel-backend_v1.0.0_arm64.tar.gz
docker load -i ai-travel-frontend_v1.0.0_arm64.tar.gz

# è¿è¡Œå®¹å™¨
docker run -d --name ai-travel-backend -p 5000:5000 ai-travel-backend:v1.0.0-arm64
docker run -d --name ai-travel-frontend -p 3000:80 ai-travel-frontend:v1.0.0-arm64
```

#### 1.2 ä½¿ç”¨ Docker Compose å¯åŠ¨ï¼ˆæ›´æ¨èï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/liangyuRen/WEB-AI-TRAVELLER.git
cd WEB-AI-TRAVELLER

# å¯åŠ¨åº”ç”¨ï¼ˆè‡ªåŠ¨æ„å»ºæˆ–æ‹‰å–é•œåƒï¼‰
docker-compose up --build

# åº”ç”¨åœ°å€ï¼š
# å‰ç«¯: http://localhost:3000
# åç«¯API: http://localhost:5000
```

### æ–¹æ³•2ï¼šæœ¬åœ°å¼€å‘è¿è¡Œ

#### 2.1 å…‹éš†ä»“åº“
```bash
git clone https://github.com/liangyuRen/WEB-AI-TRAVELLER.git
cd WEB-AI-TRAVELLER
```

#### 2.2 å¯åŠ¨åç«¯ï¼ˆç»ˆç«¯ 1ï¼‰
```bash
cd backend
npm install
npm run dev
# åç«¯è¿è¡Œåœ¨ http://localhost:5000
```

#### 2.3 å¯åŠ¨å‰ç«¯ï¼ˆç»ˆç«¯ 2ï¼‰
```bash
cd frontend
npm install
npm start
# å‰ç«¯è¿è¡Œåœ¨ http://localhost:3000
```

### æ–¹æ³•3ï¼šæœ¬åœ°æ„å»º Docker é•œåƒ

å¦‚æœæƒ³è‡ªå·±æ„å»º Docker é•œåƒï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/liangyuRen/WEB-AI-TRAVELLER.git
cd WEB-AI-TRAVELLER

# æ„å»ºé•œåƒ
docker build -f Dockerfile.backend -t ai-travel-backend:v1.0.0 .
docker build -f Dockerfile.frontend -t ai-travel-frontend:v1.0.0 .

# è¿è¡Œå®¹å™¨
docker run -d --name ai-travel-backend -p 5000:5000 ai-travel-backend:v1.0.0
docker run -d --name ai-travel-frontend -p 3000:80 ai-travel-frontend:v1.0.0
```

## âš™ï¸ ç¯å¢ƒé…ç½®

### åç«¯ç¯å¢ƒå˜é‡ (backend/.env)

```env
# æœåŠ¡å™¨é…ç½®
PORT=5000
NODE_ENV=development
CLIENT_URL=http://localhost:3000

# Supabaseæ•°æ®åº“ (å¯é€‰)
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=eyJhbGc...

# LLM API (åœ¨å‰ç«¯Settingsé¡µé¢é…ç½®ï¼Œæˆ–è¿™é‡Œè®¾ç½®)
# LLM_API_KEY=ä½ çš„APIå¯†é’¥
# LLM_PROVIDER=openai|alibaba|huggingface
```

### å‰ç«¯ç¯å¢ƒå˜é‡ (frontend/.env)

```env
REACT_APP_API_URL=http://localhost:5000/api
```

## ğŸ” APIå¯†é’¥é…ç½®ï¼ˆé‡è¦ï¼‰

### æ¨èæ–¹å¼ï¼šé€šè¿‡ Settings ç•Œé¢é…ç½®

åœ¨åº”ç”¨å¯åŠ¨åæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é…ç½® API å¯†é’¥ï¼š

1. **æ‰“å¼€åº”ç”¨**ï¼šè®¿é—® `http://localhost:3000`
2. **è¿›å…¥ Settings é¡µé¢**ï¼šç‚¹å‡»å³ä¸Šè§’çš„ Settings
3. **é€‰æ‹© LLM æä¾›å•†**ï¼šåœ¨ "LLM Configuration" éƒ¨åˆ†é€‰æ‹©ï¼š
   - **Alibaba Bailian**ï¼ˆæ¨è - åŠ©æ•™æä¾›ï¼‰
   - OpenAI GPT
   - Hugging Face
   - æœ¬åœ°LLM
4. **è¾“å…¥ API å¯†é’¥**ï¼šç²˜è´´è·å–åˆ°çš„å¯†é’¥
5. **ä¿å­˜é…ç½®**ï¼šç‚¹å‡»ä¿å­˜æŒ‰é’®

**å®‰å…¨è¯´æ˜**ï¼š
- å¯†é’¥ä»…ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨å­˜å‚¨ä¸­
- å¯†é’¥ä¸ä¼šè¢«å‘é€åˆ°åç«¯æœåŠ¡å™¨
- ä¸åŒçš„æµè§ˆå™¨/è®¾å¤‡éœ€è¦åˆ†åˆ«é…ç½®

### è·å– API å¯†é’¥

#### é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨èï¼‰
- **æä¾›æ–¹**ï¼šè¯¾ç¨‹åŠ©æ•™
- **æœ‰æ•ˆæœŸ**ï¼š3ä¸ªæœˆå…è´¹é¢åº¦
- **è·å–æ–¹æ³•**ï¼šè”ç³»è¯¾ç¨‹åŠ©æ•™è·å– API å¯†é’¥
- **è¯´æ˜**ï¼šæ¨èä½¿ç”¨ï¼Œå·²åœ¨é¡¹ç›®ä¸­é…ç½®æ”¯æŒ

#### OpenAI GPT
- **è·å–åœ°å€**ï¼šhttps://platform.openai.com/api-keys
- **æ­¥éª¤**ï¼šåˆ›å»º OpenAI è´¦æˆ· â†’ ç”Ÿæˆ API å¯†é’¥
- **æ ¼å¼**ï¼šsk-xxx...
- **æ³¨æ„**ï¼šéœ€è¦ç»‘å®šæœ‰æ•ˆçš„æ”¯ä»˜æ–¹å¼

#### Hugging Face
- **è·å–åœ°å€**ï¼šhttps://huggingface.co/settings/tokens
- **æ­¥éª¤**ï¼šåˆ›å»º Hugging Face è´¦æˆ· â†’ åˆ›å»º API token
- **è¯´æ˜**ï¼šæ”¯æŒå¤šä¸ªå¼€æºæ¨¡å‹

## ğŸ¯ æ ¸å¿ƒAPIç«¯ç‚¹

### æ—…è¡Œè§„åˆ’
- `POST /api/travel/plan` - ç”Ÿæˆæ—…è¡Œè®¡åˆ’
- `GET /api/travel/plans/:userId` - è·å–ä¿å­˜çš„è®¡åˆ’
- `PUT /api/travel/plan/:planId` - æ›´æ–°è®¡åˆ’

### é¢„ç®—ç®¡ç†
- `POST /api/budget/expense` - è®°å½•å¼€æ”¯
- `GET /api/budget/summary/:planId` - è·å–é¢„ç®—æ‘˜è¦
- `DELETE /api/budget/expense/:expenseId` - åˆ é™¤å¼€æ”¯

### LLMæœåŠ¡
- `POST /api/llm/chat` - é€šç”¨èŠå¤©æ¥å£
- `POST /api/llm/generate-itinerary` - ç”Ÿæˆè¡Œç¨‹
- `POST /api/llm/analyze-budget` - é¢„ç®—åˆ†æ

## ğŸ“± ç‰¹è‰²åŠŸèƒ½

### è¯­éŸ³è¯†åˆ«
- ä½¿ç”¨Web Speech APIï¼ˆæµè§ˆå™¨åŸç”Ÿï¼‰
- æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡
- å®æ—¶è¯­éŸ³è½¬æ–‡å­—

### æ™ºèƒ½é¢„ç®—åˆ†æ
- AIé©±åŠ¨çš„æ”¯å‡ºä¼˜åŒ–å»ºè®®
- æŒ‰åˆ†ç±»ç»Ÿè®¡æ”¯å‡º
- æˆæœ¬é¢„è­¦

### å¤šè®¾å¤‡åŒæ­¥
- äº‘ç«¯æ•°æ®å­˜å‚¨
- å®æ—¶åŒæ­¥
- ç¦»çº¿æ¨¡å¼æ”¯æŒï¼ˆè®¡åˆ’ä¸­ï¼‰

## ğŸ³ Dockeréƒ¨ç½²

### æ„å»ºé•œåƒ

```bash
# æ„å»ºåç«¯é•œåƒ
docker build -f Dockerfile.backend -t ai-travel-backend:latest .

# æ„å»ºå‰ç«¯é•œåƒ
docker build -f Dockerfile.frontend -t ai-travel-frontend:latest .
```

### è¿è¡Œå®¹å™¨

```bash
# ä½¿ç”¨Docker Compose
docker-compose up -d

# æˆ–æ‰‹åŠ¨è¿è¡Œ
docker run -p 5000:5000 --env-file .env ai-travel-backend:latest
docker run -p 3000:80 ai-travel-frontend:latest
```

### æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“

```bash
# ç™»å½•é˜¿é‡Œäº‘
docker login -u <username> registry.aliyuncs.com

# æ ‡è®°é•œåƒ
docker tag ai-travel-backend:latest registry.aliyuncs.com/<namespace>/ai-travel-backend:latest
docker tag ai-travel-frontend:latest registry.aliyuncs.com/<namespace>/ai-travel-frontend:latest

# æ¨é€é•œåƒ
docker push registry.aliyuncs.com/<namespace>/ai-travel-backend:latest
docker push registry.aliyuncs.com/<namespace>/ai-travel-frontend:latest
```

## ğŸ¤– LLMé›†æˆ

### æ”¯æŒçš„æä¾›å•†

#### 1. é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæ¨èï¼‰
```javascript
// åœ¨Settingsé¡µé¢é€‰æ‹©Alibaba Bailian
// è¾“å…¥APIå¯†é’¥
// åº”ç”¨ä¼šè‡ªåŠ¨ä½¿ç”¨é€šä¹‰åƒé—®æ¨¡å‹
```

#### 2. OpenAI
```javascript
// é€‰æ‹©OpenAI
// è¾“å…¥sk-xxxæ ¼å¼çš„å¯†é’¥
// æ”¯æŒGPT-3.5 Turboå’ŒGPT-4
```

#### 3. æœ¬åœ°LLM
```javascript
// å¯é›†æˆOllamaæˆ–å…¶ä»–æœ¬åœ°LLMæœåŠ¡
// ä¿®æ”¹åç«¯é…ç½®æŒ‡å‘æœ¬åœ°æœåŠ¡
```

## ğŸ“Š æ•°æ®åº“æ¶æ„

### Supabaseè¡¨ç»“æ„

```sql
-- ç”¨æˆ·è¡¨ï¼ˆç”±Supabase Authç®¡ç†ï¼‰
-- æ—…è¡Œè®¡åˆ’è¡¨
CREATE TABLE travel_plans (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES auth.users,
  destination VARCHAR(255),
  start_date DATE,
  end_date DATE,
  budget DECIMAL,
  travelers INT,
  preferences TEXT,
  itinerary JSONB,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

-- å¼€æ”¯è®°å½•è¡¨
CREATE TABLE expenses (
  id UUID PRIMARY KEY,
  plan_id UUID REFERENCES travel_plans,
  category VARCHAR(50),
  amount DECIMAL,
  description TEXT,
  date DATE,
  created_at TIMESTAMP
);
```

## ğŸ§ª æµ‹è¯•

```bash
# å‰ç«¯æµ‹è¯•
cd frontend
npm test

# åç«¯æµ‹è¯•
cd backend
npm test
```

## ğŸ“š GitHub Actions CI/CD

é¡¹ç›®å·²é…ç½®GitHub Actionsè‡ªåŠ¨åŒ–æµç¨‹ï¼š

1. **ä»£ç æ£€æŸ¥** - è¿è¡Œlintæ£€æŸ¥
2. **æ„å»ºé•œåƒ** - æ„å»ºDockeré•œåƒ
3. **æ¨é€é•œåƒ** - æ¨é€åˆ°Docker Hubæˆ–é˜¿é‡Œäº‘

### é…ç½®Secrets

åœ¨GitHubä»“åº“Settingsä¸­æ·»åŠ ä»¥ä¸‹Secretsï¼š

```
DOCKER_USERNAME: your_docker_username
DOCKER_PASSWORD: your_docker_password
ALIYUN_REGISTRY: registry.aliyuncs.com
ALIYUN_USERNAME: your_aliyun_username
ALIYUN_PASSWORD: your_aliyun_password
```

## ğŸ“ æäº¤è¯´æ˜

æäº¤åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

1. **GitHubä»“åº“**: è¿™ä¸ªREADMEä¸­çš„ä»“åº“é“¾æ¥
2. **Dockeré•œåƒ**: å·²æ¨é€åˆ°Docker Hubæˆ–é˜¿é‡Œäº‘
3. **è¿è¡Œè¯´æ˜**: åœ¨READMEä¸­è¯¦ç»†è¯´æ˜å¦‚ä½•è¿è¡Œé¡¹ç›®
4. **APIå¯†é’¥**: å¦‚ä½¿ç”¨éé˜¿é‡Œäº‘keyï¼Œåœ¨READMEä¸­æä¾›å¯†é’¥å’Œæœ‰æ•ˆæœŸ

## ğŸ›£ï¸ å¼€å‘è·¯çº¿å›¾

- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆSupabaseé›†æˆï¼‰
- [ ] äº‘ç«¯æ•°æ®æŒä¹…åŒ–
- [ ] é«˜å¾·åœ°å›¾é›†æˆ
- [ ] å®æ—¶å¤©æ°”APIé›†æˆ
- [ ] æœºç¥¨å’Œé…’åº—é¢„è®¢APIé›†æˆ
- [ ] ç¦»çº¿æ¨¡å¼
- [ ] PWAæ”¯æŒ
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç¤¾äº¤åˆ†äº«åŠŸèƒ½
- [ ] AIå›¾åƒç”Ÿæˆï¼ˆæ™¯ç‚¹æ¨èï¼‰

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§LICENSEæ–‡ä»¶

## ğŸ‘¨â€ğŸ’¼ ä½œè€…

è¯¾ç¨‹ä½œä¸š - å—äº¬å¤§å­¦å¤§æ¨¡å‹è¾…åŠ©è½¯ä»¶å·¥ç¨‹

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥ç¯å¢ƒé…ç½®
2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
3. æäº¤GitHub Issue

---

**æœ€åæ›´æ–°**: 2024å¹´11æœˆ
**é¡¹ç›®çŠ¶æ€**: å¼€å‘ä¸­ ğŸš€
